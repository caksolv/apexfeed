<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><h1>Salesforce Governor Limit Errors Debugging</h1></title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      background-color: #f5f5f5;
      color: #333;
    }
    header {
      background-color: #0070c0;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    section {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    h2, h3 {
      color: #0070c0;
    }
    pre {
      background: #f4f4f4;
      padding: 10px;
      overflow-x: auto;
      border-left: 4px solid #0070c0;
      white-space: pre-wrap;
    }
    ul {
      padding-left: 20px;
    }
    code {
      background-color: #f4f4f4;
      padding: 2px 4px;
    }
  </style>
</head>
<body>
  <header>
    Debugging Salesforce Governor Limit Errors: Practical Fixes and Prevention Tips
  </header>
  
  <section>
    <h2>Common Salesforce Governor Limit Errors</h2>
    <p>Salesforce governor limits are rules that cap resource usage in Apex code to protect the multi-tenant environment...</p>

    <h3>"Too Many SOQL Queries: 101" (SOQL Query Limit)</h3>
    <p>Salesforce allows at most 100 SOQL queries per synchronous Apex transaction...</p>

    <h3>"Too Many DML Statements: 151" (DML Statements Limit)</h3>
    <p>Similar to queries, there’s a limit of 150 DML operations (inserts/updates/deletes) per Apex transaction...</p>

    <h3>"Apex CPU time limit exceeded" (CPU Time Limit)</h3>
    <p>Salesforce limits the CPU time a transaction can use...</p>

    <h3>"Apex heap size too large" (Heap Size Limit)</h3>
    <p>Salesforce enforces a heap limit of 6 MB for synchronous and 12 MB for asynchronous transactions...</p>

    <h3>"Too many callouts: 101" (Callout Limit)</h3>
    <p>A single transaction can perform up to 100 external callouts...</p>

    <h2>Debugging Techniques for Governor Limit Errors</h2>
    <p>When you encounter a governor limit error, identifying the root cause is crucial...</p>

    <h3>Check Debug Logs</h3>
    <p>Look for lines showing resource usage and exception stack traces...</p>

    <h3>Developer Console Analysis</h3>
    <p>Use Execution Overview to track limits and analyze SOQL, DML, and CPU usage...</p>

    <h3>Checkpoints and Heap Inspector</h3>
    <p>Set checkpoints to view heap size and object states...</p>

    <h3>Isolate in Execute Anonymous</h3>
    <p>Reproduce logic in a controlled script to pinpoint the source of the error...</p>

    <h2>Examples of Violations and Fixes</h2>
    <h3>Example 1: SOQL Inside a Loop</h3>
    <p>Violation: The code below performs a SOQL query inside a loop...</p>
<p>If you encounter recurring governor limit errors, don&apos;t hesitate to <a href="https://www.ksolves.com/salesforce-support-services" target="_blank" rel="noopener noreferrer">contact Salesforce support</a> for advanced troubleshooting and advice on scaling your code efficiently.</p>
    <pre><code>
// BAD Practice: SOQL query inside a loop
for (Contact c : contacts) {
    Account acc = [SELECT Name, Industry FROM Account WHERE Id = :c.AccountId];
    // ... (do something with acc)
}
    </code></pre>

    <h3>Fix</h3>
    <p>On a large data set, the above will throw “Too many SOQL queries: 101”. The fix is to bulkify the code...</p>

    <pre><code>
// GOOD Practice: Bulkified query outside the loop
Set<Id> acctIds = new Set<Id>();
for (Contact c : contacts) {
    acctIds.add(c.AccountId);
}
Map<Id, Account> accounts = new Map<Id, Account>([SELECT Name, Industry FROM Account WHERE Id IN :acctIds]);
for (Contact c : contacts) {
    Account acc = accounts.get(c.AccountId);
    // ... (do something with acc)
}
    </code></pre>

    <h3>Example 2: DML Inside a Loop (DML Limit Violation)</h3>
    <p>Violation: This code creates a new Task for each contact and inserts it inside the loop...</p>

    <pre><code>
// BAD Practice: DML inside a loop
for (Contact c : contacts) {
    Task t = new Task(WhoId = c.Id, Subject = 'Follow Up');
    insert t;
}
    </code></pre>

    <h3>Fix</h3>
    <p>If contacts has over 150 records, the 151st insert will hit the DML limit and throw “Too many DML statements: 151”...</p>

    <pre><code>
// GOOD Practice: Bulk DML with a list
List<Task> tasksToInsert = new List<Task>();
for (Contact c : contacts) {
    Task t = new Task(WhoId = c.Id, Subject = 'Follow Up');
    tasksToInsert.add(t);
}
if (!tasksToInsert.isEmpty()) {
    insert tasksToInsert;  // single bulk DML for all tasks
}
    </code></pre>

    <h2>Prevention Best Practices for Governor Limits</h2>
    <p>The best way to deal with governor limits is to avoid hitting them in the first place...</p>

    <h3>Bulkify Your Code</h3>
    <p>Always design your code (especially triggers) to handle multiple records at once...</p>

    <h3>No SOQL/DML in Loops</h3>
    <p>Never put a database query or DML statement inside a for loop...</p>

    <h3>Optimize SOQL Queries</h3>
    <p>Make your queries selective and efficient...</p>

    <h3>Use Collections and Maps</h3>
    <p>Leverage Apex collections (Lists, Maps, Sets) to handle data in-memory and in bulk...</p>

    <h3>Use Asynchronous Processing</h3>
    <p>If a process is hitting limits in a synchronous context, offload it to asynchronous Apex...</p>

    <h3>Monitor and Test at Scale</h3>
    <p>Regularly review debug logs or use the Salesforce Limits Apex methods to monitor resource usage...</p>
  </section>
  <p style="text-align: center;"><strong>Read more at</strong> - <a href="https://caksolv.github.io/apexfeed/" target="_blank">https://caksolv.github.io/apexfeed/</a></p>
  
</div>

</body>
</html>
